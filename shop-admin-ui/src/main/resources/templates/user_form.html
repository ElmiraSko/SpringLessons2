<!doctype html>
<html lang="en" xmlns:th ="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head"></head>

<body class="bg-light">
<div th:replace="fragments/header :: header"></div>

<div class="d-flex">
    <div th:replace="fragments/sidebar :: sidebar"></div>

    <div class="content p-4">
        <h2 class="mb-4" th:if="${edit}" >Edit user</h2>
        <h2 class="mb-4" th:if="${create}" >Create user</h2>

        <div class="card mb-4">
            <div class="card-body">
                <form th:action="@{/user/save}" method="post" th:object="${user}">
                    <input th:type="hidden" th:field="*{id}"/>
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" th:field="*{name}" class="form-control"
                               placeholder="Enter name"/>
                        <small id="nameError" class="form-text text-muted"
                               th:if="${#fields.hasErrors('name')}" th:errors="*{name}">
                            name error</small>
                    </div>
                    <div class="form-group">
                        <label for="first-name">First Name</label>
                        <input type="text" id="first-name" th:field="*{firstName}" class="form-control"
                               placeholder="Enter name"/>
                        <small id="first-nameError" class="form-text text-muted"
                               th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">
                            firstName error</small>
                    </div>
                    <div class="form-group">
                        <label for="first-name">Last Name</label>
                        <input type="text" id="last-name" th:field="*{lastName}" class="form-control"
                               placeholder="Enter name"/>
                        <small id="last-nameError" class="form-text text-muted"
                               th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">
                            lastName error</small>
                    </div>
                    <div class="form-group">
                        <label for="age">Age</label>
                        <input type="text" id="age" th:field="*{age}" class="form-control"
                               placeholder="Enter age"/>
                        <small id="ageError" class="form-text text-muted"
                               th:if="${#fields.hasErrors('age')}" th:errors="*{age}">
                            age validation error</small>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" th:field="*{email}" class="form-control"
                               placeholder="Enter email"/>
                        <small id="emailError" class="form-text text-muted"
                               th:if="${#fields.hasErrors('email')}" th:errors="*{email}">
                            email validation error</small>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" th:field="*{password}" class="form-control"
                               placeholder="Enter password"/>
                        <small id="passError" class="form-text text-muted"
                               th:if="${#fields.hasErrors('password')}" th:errors="*{password}">
                            password error</small>
                    </div>
                    <div class="form-group">
                        <label for="phone">Rhone</label>
                        <input type="text" id="phone" th:field="*{phone}" class="form-control"
                               placeholder="Phone"/>
                        <small id="phoneError" class="form-text text-muted"
                               th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}">
                            phone error</small>
                    </div>
                    <div class="form-group">
                        <label for="roles">Roles</label>
                        <select multiple class="form-control" id="roles" th:field="*{roles}" required>
                            <option th:each="role : ${roles}"
                                    th:text="${role.name}"
                                    th:value="${role.id}"
                                    th:selected="${user.roles?.contains(role)}"></option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>

            </div>
        </div>
    </div>
</div>
<script th:replace="fragments/footer :: scripts"></script>

</body>
</html>